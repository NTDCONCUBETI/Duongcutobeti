local player = game.Players.LocalPlayer
local rf = game:GetService("ReplicatedStorage"):WaitForChild("RemoteFunctions"):WaitForChild("UpgradeSpeed")
local rebirth = game:GetService("ReplicatedStorage"):WaitForChild("RemoteFunctions"):WaitForChild("Rebirth")

-- chờ attribute Rebirth xuất hiện
while player:GetAttribute("Rebirth") == nil do
    task.wait()
end

local rb = player:GetAttribute("Rebirth")

-- chỉ chạy nếu rebirth < 24
if rb < 24 then
    -- nâng rebirth lên 24
    while player:GetAttribute("Rebirth") < 24 do
        local args = { [1] = 10 }
        rf:InvokeServer(unpack(args))
        rebirth:InvokeServer()
        task.wait(0.1)
    end

    -- sau khi đạt 24 rebirth thì mua thêm 400 speed
    for i = 1, 40 do
        local args = { [1] = 10 }
        rf:InvokeServer(unpack(args))
        task.wait(0.1) -- chỉ mua speed, không rebirth nữa
    end

    print("Rebirth lên 24 và đã mua thêm 400 Speed upgraded")
else
    print("Bạn đã có rebirth >= 24")
end
