local remote = game:GetService("ReplicatedStorage")
    :WaitForChild("Shared")
    :WaitForChild("Remotes")
    :WaitForChild("Networking")
    :WaitForChild("RF/PlotAction")

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local rootPart = character:WaitForChild("HumanoidRootPart")
local bases = workspace:WaitForChild("Bases")
local My_plot = nil

--########################################## L·∫•y ƒë·ªãa ch·ªâ nh√† (ch·∫°y 1 l·∫ßn)
for _, plot in ipairs(bases:GetChildren()) do
    local title = plot:FindFirstChild("Title")
    if title then
        local titleGui = title:FindFirstChild("TitleGui")
        if titleGui then
            local frame = titleGui:FindFirstChild("Frame")
            if frame then
                local playerNameLabel = frame:FindFirstChild("PlayerName")
                if playerNameLabel and playerNameLabel:IsA("TextLabel") then
                    if playerNameLabel.Text == player.DisplayName then
                        My_plot = plot
                        break
                    end
                end
            end
        end
    end
end

--########################################## V√≤ng l·∫∑p thu ti·ªÅn li√™n t·ª•c
while true do
    -- üîπ L·∫•y t·∫•t c·∫£ floor v√† s·∫Øp x·∫øp theo s·ªë
    local floors = {}
    for _, child in ipairs(My_plot:GetChildren()) do
        local number = tonumber(child.Name:match("^Floor(%d+)$"))
        if number then
            table.insert(floors, {object = child, index = number})
        end
    end

    table.sort(floors, function(a, b)
        return a.index < b.index
    end)

    -- üîπ B·∫Øt ƒë·∫ßu collect
    local currentIndex = 1
    for _, data in ipairs(floors) do
        local primary = data.object:FindFirstChild("Primary")
        if primary then
            -- Teleport l√™n floor
            character:PivotTo(CFrame.new(primary.Position + Vector3.new(0,3,0)))
            task.wait(0.5)

            -- Collect 10 l·∫ßn m·ªói floor
            for _ = 1, 10 do
                remote:InvokeServer("Collect Money", My_plot.Name, tostring(currentIndex))
                currentIndex += 1
                task.wait(0.5)
            end
        end
    end

    -- V·ªÅ l·∫°i t·∫ßng 1
    local spawn = My_plot:FindFirstChild("Spawn")
    if spawn then
        character:PivotTo(CFrame.new(spawn.Position + Vector3.new(0,3,0)))
    end

    print("‚úÖ ƒê√£ collect xong, ch·ªù 5 ph√∫t...")
    task.wait(300) -- ‚è≥ Ch·ªù 5 ph√∫t tr∆∞·ªõc khi ch·∫°y l·∫°i
end
--## H√†m ch·ªëng AFK
local VirtualUser = game:GetService("VirtualUser")
spawn(function()
	pcall(function()
		while true do wait(300)
			VirtualUser:CaptureController()
			VirtualUser:ClickButton2(Vector2.new())
		end
	end)
end)
-- T·∫°o ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AntiAFKGui"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
-- T·∫°o TextLabel
local label = Instance.new("TextLabel")
label.Size = UDim2.new(0, 100, 0, 30) -- r·ªông 25px, cao 30px
label.Position = UDim2.new(1, -110, 1, -40) -- g√≥c d∆∞·ªõi ph·∫£i
label.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
label.BackgroundTransparency = 0.5
label.TextColor3 = Color3.fromRGB(0, 255, 0)
label.Font = Enum.Font.SourceSansBold
label.TextSize = 20
label.Text = "‚úÖ Anti AFK "
label.Parent = screenGui
